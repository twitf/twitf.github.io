{"title":"Docker 常用镜像部署","uid":"75dacad14e098df2be0901cfbf963953","slug":"Docker 常用镜像部署","date":"2022-04-15T03:50:34.000Z","updated":"2023-01-31T06:48:29.638Z","comments":true,"path":"api/articles/Docker 常用镜像部署.json","keywords":null,"cover":null,"content":"<h2 id=\"docker-rabbitmq\"><a href=\"#docker-rabbitmq\" class=\"headerlink\" title=\"docker rabbitmq\"></a>docker rabbitmq</h2><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki One Dark Pro\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #61AFEF\">docker</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">run</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--privileged</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--restart=always</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-it</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-d</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--hostname=rabbitmq</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--name=rabbitmq</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-e</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">RABBITMQ_DEFAULT_USER=twitf</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-e</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">RABBITMQ_DEFAULT_PASS=twitf</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-p</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">15672</span><span style=\"color: #98C379\">:15672</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">rabbitmq</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #61AFEF\">rabbitmq-plugins</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">enable</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--offline</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">rabbitmq_mqtt</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">rabbitmq_federation_management</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">rabbitmq_stomp</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">rabbitmq_management</span></span></code></pre></div><h2 id=\"docker-mariadb\"><a href=\"#docker-mariadb\" class=\"headerlink\" title=\"docker mariadb\"></a>docker mariadb</h2><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki One Dark Pro\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #61AFEF\">docker</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">run</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-it</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-d</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--name</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">mariadb</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-e</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">MySQL_ROOT_PASSWORD=root</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-p</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">3306</span><span style=\"color: #98C379\">:3306</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">mariadb</span></span></code></pre></div><h2 id=\"docker-elasticsearch\"><a href=\"#docker-elasticsearch\" class=\"headerlink\" title=\"docker elasticsearch\"></a>docker elasticsearch</h2><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki One Dark Pro\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #61AFEF\">docker</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">run</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-d</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--name</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">es</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-p</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">9200</span><span style=\"color: #98C379\">:9200</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-p</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">9300</span><span style=\"color: #98C379\">:9300</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-e</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">&quot;discovery.type=single-node&quot;</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">elasticsearch:latest</span></span></code></pre></div><h2 id=\"redis\"><a href=\"#redis\" class=\"headerlink\" title=\"redis\"></a>redis</h2><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki One Dark Pro\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #61AFEF\">docker</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">run</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--name</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">redis</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-p</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">6379</span><span style=\"color: #98C379\">:6379</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-d</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">redis</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">redis-server</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--appendonly</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">yes</span></span></code></pre></div><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki One Dark Pro\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #61AFEF\">docker</span><span style=\"color: #ABB2BF\">  </span><span style=\"color: #98C379\">run</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--name</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">nacos</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-d</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-p</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">8848</span><span style=\"color: #98C379\">:8848</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--privileged=true</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--restart=always</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-e</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">JVM_XMS=</span><span style=\"color: #D19A66\">256</span><span style=\"color: #98C379\">m</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-e</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">JVM_XMX=</span><span style=\"color: #D19A66\">256</span><span style=\"color: #98C379\">m</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-e</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">MODE=standalon</span></span></code></pre></div><h2 id=\"Nacos\"><a href=\"#Nacos\" class=\"headerlink\" title=\"Nacos\"></a>Nacos</h2><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki One Dark Pro\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #61AFEF\">docker</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">run</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--env</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">PREFER_HOST_MODE=hostname</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--privileged</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--restart=always</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-it</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-d</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--env</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">MODE=standalone</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--env</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">NACOS_AUTH_ENABLE=</span><span style=\"color: #D19A66\">true</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--name</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">nacos</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-p</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">8848</span><span style=\"color: #98C379\">:8848</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">nacos/nacos-server</span></span></code></pre></div><h2 id=\"beanstalkd-延迟队列\"><a href=\"#beanstalkd-延迟队列\" class=\"headerlink\" title=\"beanstalkd(延迟队列)\"></a>beanstalkd(延迟队列)</h2><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki One Dark Pro\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #61AFEF\">docker</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">run</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--privileged</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--restart=always</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-it</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-d</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-p</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">11300</span><span style=\"color: #98C379\">:11300</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">schickling/beanstalkd</span></span></code></pre></div><h2 id=\"mongo\"><a href=\"#mongo\" class=\"headerlink\" title=\"mongo\"></a>mongo</h2><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki One Dark Pro\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #61AFEF\">docker</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">run</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-d</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">--name</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">some-mongo</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">-p</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66\">27017</span><span style=\"color: #98C379\">:27017</span><span style=\"color: #ABB2BF\">  </span><span style=\"color: #98C379\">mongo</span></span></code></pre></div>","text":"docker rabbitmqbashdocker run --privileged --restart=always -it -d --hostname=ra...","permalink":"/post/Docker 常用镜像部署","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"Docker","slug":"Docker","count":2,"path":"api/categories/Docker.json"}],"tags":[{"name":"Docker","slug":"Docker","count":2,"path":"api/tags/Docker.json"},{"name":"DockerImages","slug":"DockerImages","count":1,"path":"api/tags/DockerImages.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#docker-rabbitmq\"><span class=\"toc-text\">docker rabbitmq</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#docker-mariadb\"><span class=\"toc-text\">docker mariadb</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#docker-elasticsearch\"><span class=\"toc-text\">docker elasticsearch</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#redis\"><span class=\"toc-text\">redis</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Nacos\"><span class=\"toc-text\">Nacos</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#beanstalkd-%E5%BB%B6%E8%BF%9F%E9%98%9F%E5%88%97\"><span class=\"toc-text\">beanstalkd(延迟队列)</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#mongo\"><span class=\"toc-text\">mongo</span></a></li></ol>","author":{"name":"Twitf","slug":"blog-author","avatar":"/img/avatar.png","link":"/","description":"<p>To Win In The Future.</p> <p>赢<b>在</b>未来。</p>","socials":{"github":"https://github.com/twitf","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Hexo+GitAction自动化构建发布博客","uid":"cc3588dbfcf9f0fd324fe5fb6a21d796","slug":"Hexo+GitAction自动化构建发布博客","date":"2022-04-18T09:30:34.000Z","updated":"2022-10-11T02:53:13.803Z","comments":true,"path":"api/articles/Hexo+GitAction自动化构建发布博客.json","keywords":null,"cover":null,"text":"新建一个私有仓库绑定私有秘钥添加自动化构建脚本yml# workflow name name: Hexo Blog CI # master branch on ...","permalink":"/post/Hexo+GitAction自动化构建发布博客","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"Hexo","slug":"Hexo","count":1,"path":"api/categories/Hexo.json"}],"tags":[{"name":"Hexo","slug":"Hexo","count":1,"path":"api/tags/Hexo.json"}],"author":{"name":"Twitf","slug":"blog-author","avatar":"/img/avatar.png","link":"/","description":"<p>To Win In The Future.</p> <p>赢<b>在</b>未来。</p>","socials":{"github":"https://github.com/twitf","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"MySQL关联更新","uid":"506c801d029fc82da00b47467cf26e6d","slug":"Mysql关联更新","date":"2022-04-15T03:44:34.000Z","updated":"2023-09-12T01:17:19.035Z","comments":true,"path":"api/articles/Mysql关联更新.json","keywords":null,"cover":null,"text":"MySQL关联更新sqlUPDATE sfc_kpi_user_calibration_import_copy2 as i,sfc_kpi_user as u ...","permalink":"/post/Mysql关联更新","photos":[],"count_time":{"symbolsCount":792,"symbolsTime":"1 mins."},"categories":[{"name":"MySQL","slug":"MySQL","count":3,"path":"api/categories/MySQL.json"}],"tags":[{"name":"MySQL","slug":"MySQL","count":2,"path":"api/tags/MySQL.json"},{"name":"MySQL Update","slug":"MySQL-Update","count":1,"path":"api/tags/MySQL-Update.json"}],"author":{"name":"Twitf","slug":"blog-author","avatar":"/img/avatar.png","link":"/","description":"<p>To Win In The Future.</p> <p>赢<b>在</b>未来。</p>","socials":{"github":"https://github.com/twitf","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}